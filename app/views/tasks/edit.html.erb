<% provide(:title, "タスク編集") %>

<div class="container">
  <h1>タスク編集</h1>

  <div class="card-container">
    <%= form_with(model: @task, local: true) do |form| %>
    <%= render 'shared/error_messages', object: @task %>

    <!-- ユーザーIDは自動的に保持される -->

    <div class="form-group">
      <%= form.label :title, "タイトル" %>
      <%= form.text_field :title, class: "form-control" %>
    </div>

    <div class="form-group">
      <%= form.label :description, "説明" %>
      <%= form.text_area :description, class: "form-control", rows: 3 %>
    </div>

    <!-- ステータス・優先度・期限を1行に配置 -->
    <div class="row">
      <div class="col-md-4 col-sm-4">
        <div class="form-group">
          <%= form.label :status, "ステータス" %>
          <%= form.select :status,
              options_for_select([
                ['新規', '新規'],
                ['進行中', '進行中'],
                ['完了', '完了']
              ], @task.status),
              { prompt: '選択してください' },
              { class: "form-control" } %>
        </div>
      </div>
      <div class="col-md-4 col-sm-4">
        <div class="form-group">
          <%= form.label :priority, "優先度" %>
          <%= form.select :priority,
              options_for_select([
                ['高', '高'],
                ['中', '中'],
                ['低', '低']
              ], @task.priority),
              { prompt: '選択してください' },
              { class: "form-control" } %>
        </div>
      </div>
      <div class="col-md-4 col-sm-4">
        <div class="form-group">
          <%= form.label :due_date, "期限" %>
          <%= form.date_field :due_date, class: "form-control" %>
        </div>
      </div>
    </div>

      <div class="actions">
        <%= form.submit "タスクを更新", class: "btn btn-primary btn-responsive" %>
        <%= link_to "キャンセル", @task, class: "btn btn-secondary btn-responsive" %>
      </div>
    <% end %>
  </div>
</div>