<% provide(:title, "タスク一覧") %>

<div class="container">
  <div class="row">
    <div class="col-md-8">
      <h1>タスク一覧</h1>
    </div>
    <div class="col-md-4">
      <%= link_to "新規タスク作成", new_task_path, class: "btn btn-primary btn-lg" %>
    </div>
  </div>

  <div class="tasks-list">
    <% if @tasks&.any? %>
      <% @tasks.each do |task| %>
        <div class="task-item" style="border: 1px solid #ddd; padding: 15px; margin-bottom: 10px; border-radius: 5px;">
          <h3><%= link_to task.title, task_path(task), style: "text-decoration: none;" %></h3>
          <p><%= task.description %></p>
          <p>
            <strong>ステータス:</strong> <%= task.status %> |
            <strong>優先度:</strong> <%= task.priority %> |
            <strong>期限:</strong> <%= task.due_date&.strftime("%Y/%m/%d") %>
          </p>
          <div class="task-actions">
            <%= link_to "詳細", task_path(task), class: "btn btn-info btn-sm" %>
            <%= link_to "編集", edit_task_path(task), class: "btn btn-warning btn-sm" %>
            <%= link_to "削除", task_path(task), method: :delete,
                data: { confirm: "本当に削除しますか？" }, class: "btn btn-danger btn-sm" %>
          </div>
        </div>
      <% end %>
    <% else %>
      <div class="empty-state" style="text-align: center; padding: 50px;">
        <h3>タスクがまだありません</h3>
        <p>最初のタスクを作成してみましょう！</p>
        <%= link_to "新規タスク作成", new_task_path, class: "btn btn-primary btn-lg" %>
      </div>
    <% end %>
  </div>
</div>