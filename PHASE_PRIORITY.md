# フェーズ優先度マトリックス（MVP基準）

## 📊 優先度分類

### 🟢 高優先度（MVP必須）
**基本的なタスク管理アプリとして最低限必要**

| フェーズ | 機能 | MVP理由 | 実装時間目安 | 難易度 |
|---------|------|---------|-------------|--------|
| ✅ Phase 1-13 | 基本機能一式 | 完了済み | - | - |

### 🟡 中優先度（MVP価値あり）
**ユーザビリティ向上に寄与するが、簡素化必須**

| フェーズ | 機能 | 簡素化方針 | 実装時間目安 | 難易度 |
|---------|------|-----------|-------------|--------|
| **Phase 14** | 検索機能 | タイトル検索のみ | 30分 | ⭐ |
| **Phase 15** | デプロイ準備 | 基本設定のみ | 45分 | ⭐⭐ |

### 🔴 低優先度（MVP後実装）
**学習段階では不要、プロダクトレベル機能**

| 元フェーズ | 機能 | MVP後の理由 | 想定実装時間 | 難易度 |
|-----------|------|-------------|--------------|--------|
| Phase 7 | 高度な検索・フィルター | 複雑すぎる | 2-3時間 | ⭐⭐⭐ |
| 新規 | API実装 | 基本機能に不要 | 3-4時間 | ⭐⭐⭐⭐ |
| 新規 | リアルタイム機能 | 高度すぎる | 4-5時間 | ⭐⭐⭐⭐⭐ |

## 📋 Phase 14: 検索機能（MVP版）

### 🎯 実装目標
**30分で完了する最低限の検索機能**

### ✅ 実装する機能
```ruby
# 1. コントローラー修正（5分）
def index
  @tasks = current_user.tasks.order(created_at: :desc)

  if params[:search].present?
    @tasks = @tasks.where("title LIKE ?", "%#{params[:search]}%")
  end

  @tasks = @tasks.paginate(page: params[:page], per_page: 5)
end

# 2. ビュー追加（10分）
# 検索フォーム（シンプル）
<%= form_with url: tasks_path, method: :get, local: true do |f| %>
  <%= f.text_field :search, placeholder: "タスクを検索", value: params[:search] %>
  <%= f.submit "検索" %>
<% end %>

# 3. テスト追加（15分）
# 基本的な検索テストのみ
```

### ❌ 実装しない機能
- 詳細検索（説明文、ステータス、優先度）
- 検索結果ハイライト
- 検索履歴
- オートコンプリート
- 複雑なフィルター組み合わせ

### 📝 テスト方針
```ruby
# 最低限のテストのみ
it "タイトルで検索できること" do
  create(:task, title: "重要な会議", user: user)
  create(:task, title: "買い物", user: user)

  visit tasks_path
  fill_in "search", with: "会議"
  click_button "検索"

  expect(page).to have_content("重要な会議")
  expect(page).not_to have_content("買い物")
end
```

## 📋 Phase 15: デプロイ準備（MVP版）

### 🎯 実装目標
**45分で完了する基本的なプロダクション準備**

### ✅ 実装する機能
```ruby
# 1. 環境変数設定（15分）
# config/database.yml の production 設定
# SECRET_KEY_BASE 設定

# 2. Dockerfile最適化（15分）
# 基本的な本番用設定

# 3. 基本セキュリティ（15分）
# HTTPS強制設定
# 基本的なCSP設定
```

### ❌ 実装しない機能
- CI/CDパイプライン
- 監視システム
- ログ管理システム
- 高度なセキュリティ対策
- パフォーマンス最適化
- スケーリング対応

## 🔄 実装時の判断基準

### ✅ 実装する条件
1. **30-45分以内で完了**
2. **初学者が理解可能**
3. **基本機能に直接貢献**
4. **テストが簡潔**
5. **将来の拡張を阻害しない**

### ❌ 実装しない条件
1. **2時間以上かかる**
2. **複雑なロジックが必要**
3. **初学者には難しすぎる**
4. **なくても基本機能が使える**
5. **エンタープライズレベルの機能**

## 📈 MVP完成後の拡張ロードマップ

### 中級者向け（MVP Phase 2）
1. **詳細検索機能**
   - 説明文検索
   - ステータス・優先度フィルター
   - 複数条件の組み合わせ

2. **API実装**
   - RESTful API
   - JSON レスポンス
   - 基本的な認証

### 上級者向け（MVP Phase 3）
1. **パフォーマンス最適化**
   - データベースインデックス
   - N+1クエリ解決
   - キャッシング

2. **高度なUI機能**
   - ドラッグ&ドロップ
   - リアルタイム更新
   - Progressive Web App

## ✅ 次のアクション

1. **Phase 14（検索機能MVP版）** を30分で実装
2. **Phase 15（デプロイ準備MVP版）** を45分で実装
3. **MVP完成** として学習成果をまとめ

---

**重要**: 各フェーズで時間制限を厳守し、MVP原則に従って必要最小限の機能のみ実装します。